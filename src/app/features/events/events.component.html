<section class="events" aria-labelledby="eventsTitle">
  <h2 id="eventsTitle">âš½ Jornada {{ currentPage() }}</h2>

  <!-- ðŸ”½ Selector de jornada -->
  <div class="jornada-selector">
    <label for="jornadaSelect">Ir a jornada:</label>
    <select
      id="jornadaSelect"
      [value]="currentPage()"
      (change)="onSelectJornada($event)"
      aria-label="Seleccionar jornada"
    >
      @for (jornada of jornadas(); track jornada) {
        <option [value]="jornada">Jornada {{ jornada }}</option>
      }
    </select>
  </div>

  <!-- ðŸ”½ Listado de eventos -->
  <div class="cards" role="list">
    @for (event of events(); track event.id) {
      <article
        role="listitem"
        class="event-card"
        [class.completed]="event.status === 'completed'"
        [attr.aria-label]="event.homeTeam.name + ' vs ' + event.awayTeam.name"
        tabindex="0"
      >
        <header class="event-card__header">
          <h3 class="event-title">
            <span class="sr-only">Partido:</span>
            <strong class="home">{{ event.homeTeam.name }}</strong>
            <span class="vs" aria-hidden="true">vs</span>
            <strong class="away">{{ event.awayTeam.name }}</strong>
          </h3>

          <span
            class="status-badge"
            [attr.aria-label]="event.status === 'completed' ? 'Finalizado' : 'PrÃ³ximo'"
          >
            {{ event.status === 'completed' ? 'Finalizado' : 'PrÃ³ximo' }}
          </span>
        </header>

        <div class="logos" aria-label="Marcador y escudos">
          <img
            class="logo"
            [src]="event.homeTeam.logo"
            [alt]="'Escudo ' + event.homeTeam.name"
            width="64"
            height="64"
            loading="lazy"
            decoding="async"
          />
          <span class="score" aria-live="polite" aria-atomic="true">
            <span class="sr-only">Marcador:</span>
            {{ event.score.home }} <span aria-hidden="true">-</span> {{ event.score.away }}
          </span>
          <img
            class="logo"
            [src]="event.awayTeam.logo"
            [alt]="'Escudo ' + event.awayTeam.name"
            width="64"
            height="64"
            loading="lazy"
            decoding="async"
          />
        </div>

        <p class="place-time">
          <span class="stadium" aria-label="Estadio">{{ event.stadium }}</span>
          <span class="dot" aria-hidden="true">â€¢</span>
          <time [attr.datetime]="event.date + 'T' + event.time">
            {{ event.date | date: 'EEEE, d MMMM y':'':'es-ES' }} Â· {{ event.time }}
          </time>
        </p>
      </article>
    }
  </div>

  <!-- ðŸ”½ PaginaciÃ³n -->
  <nav class="pagination" role="navigation" aria-label="PaginaciÃ³n de jornadas">
    <button
      type="button"
      class="page-btn"
      (click)="prevPage()"
      [disabled]="currentPage() === 1"
      aria-label="Jornada anterior"
    >
      Â« Anterior
    </button>

    <span class="page-indicator" aria-live="polite">
      Jornada {{ currentPage() }} / {{ totalPages() }}
    </span>

    <button
      type="button"
      class="page-btn"
      (click)="nextPage()"
      [disabled]="currentPage() === totalPages()"
      aria-label="Siguiente jornada"
    >
      Siguiente Â»
    </button>
  </nav>
</section>


<!-- Texto solo para lectores de pantalla -->
<span class="sr-only" aria-hidden="false"></span>
